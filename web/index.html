<!DOCTYPE html>
<html>
<headl data-ng-app="app" data-ng-controller="SensorsCtrl">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta charset="utf-8">
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" media="all" href="css/bootstrap.css" />
	<link rel="stylesheet" media="all" href="css/jquery-ui.css" />
	<link rel="stylesheet" media="all" href="css/style.css" />
	<script src="js/jquery-3.1.1.js"></script>
	<script src="js/jquery-ui.js"></script>
	<script src="js/angular.js"></script>
	<script src="js/angular-resource.js"></script>
	<script src="js/angular-animate.js"></script>
	<script src="js/common.js"></script>
	<script src="js/services/sensorsrestservice.js"></script>
	<script src="js/controllers/sensorsctrl.js"></script>
	<link rel="icon" type="image/png" href="/favicon.png" />
	<title>Go Server</title>
</head>
<body>

	<!-- Navigation -->
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				Raspberry Pi + Go Lang control panel
			</div>
		</div>
	</nav>

	<!-- Page Content -->
	<div class="container" data-ng-cloak>

		<div class="row">
			<div class="col-lg-12">

				<h3>
					<button style="float:left; margin-right: 10px" data-ng-click="refresh()">refresh</button>
					Current telemetry:
				</h3>

				<table class="table table-hover table-bordered">
					<thead>
						<tr>
							<th>Name</th>
							<th>Value</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tr data-ng-repeat="value in statusDevices">
						<td>{{value.key}}</td><td>{{value.Status}}</td>
						<td data-ng-if="value.DeviceType == 'RgbLedDevice'"
							style="background-color: rgb({{m.r/4+191 | number : 0}}, {{m.g/4+191 | number : 0}}, {{m.b/4+191 | number : 0}})">
							<label for="ledR">R:</label>
							<input id="ledR" type="checkbox" ng-model="m.r" ng-true-value="255" ng-false-value="0">

							<label for="ledG">G:</label>
							<input id="ledG" type="checkbox" ng-model="m.g" ng-true-value="255" ng-false-value="0">

							<label for="ledB">B:</label>
							<input id="ledB" type="checkbox" ng-model="m.b" ng-true-value="255" ng-false-value="0">

							<button class="button pull-right" data-ng-click="saveRgb()">Save state</button>
						</td>
						<td data-ng-if="value.DeviceType == 'DeviceManager'">
							&nbsp;
						</td>
						<td data-ng-if="value.DeviceType == 'OneStateSensor'">
							&nbsp;
						</td>
						<td data-ng-if="value.DeviceType == 'SystemPropery'">
							&nbsp;
						</td>
					</tr>
				</table>
				<div>
				</div>

			</div>
		</div>
		<!-- /.row -->

	</div>
	<!-- /.container -->

</body>
</html>